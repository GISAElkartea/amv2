{% extends 'base.html' %}
{% load i18n static %}

{% block title %}{% trans 'News' %}{% endblock title %}

{% block extra_js %}
<script src="{% static 'js/news_filter.js' %}" type="text/javascript" charset="utf-8"></script>
{% endblock extra_js %}

{% block aside %}
<form class="aside" method="get" action=".">
  {{ form }}
  <input type="submit" value="{% trans 'Refresh' %}" />
</form>
{% endblock aside %}

{% block content %}
<ul class="list">
  {% for newspodcast in newspodcast_list %}
  <li class="flag news">
    {% if newspodcast.image %}
    <img src="{{ newspodcast.image.url }}"/>
    {% endif %}
    <div class="text">
      <p class="date">{{ newspodcast.pub_date }}</p>
      <h2 class="category">{{ newspodcast.categories.all | join:", " }}</h2>
      <h1><a href="{{ newspodcast.get_absolute_url }}">{{ newspodcast }}</a></h1>
      <p>{{ newspodcast.description | striptags | truncatewords:25 }}</p>
    </div>
  </li>
  {% endfor %}
</ul>
{% endblock content %}
